---
title: "Week_3"
author: "Fynn Mehrens"
date: "9/16/2020"
output: html_document
---


```{r}
install.packages("tidyverse")
install.packages("nycflights13")

library(tidyverse)
library(nycflights13)
```

# 5.2.4 Exercises

1.1. 
```{r}
filter(flights, arr_delay >= 120)
```
1.2.
```{r}
filter(flights, dest == "IAH" | dest == "HOU")
```
1.3.
```{r}
filter(flights, carrier %in% c("DL", "AA", "UA"))
```
1.4
```{r}
filter(flights, month %in% c(7, 8, 9))
```
1.5.
```{r}
filter(flights, arr_delay >= 120, dep_delay <= 0)
```
1.6.
```{r}
filter(flights, dep_delay >= 60, dep_delay-arr_delay >= 30)
```
1.7.
```{r}
filter(flights, dep_time >= 0, dep_time <= 600)
```
2.
The between() function could have been useful for 1.7. because it could have given a range of values, so that you don't need to manually give the upper and lower border of the values into seperate conditions.

3.
```{r}
filter(flights, is.na(dep_time) == TRUE)
```
These could represent cancelled flights, because these flights never departed or arrived in the destination.

4.
NA ^ 0 = 1 = TRUE
NA | TRUE = TRUE
FALSE & NA -> NA == FALSE = TRUE
NA * 0 = FALSE

FALSE = NA

# 5.3.1

1.
```{r}
arrange(flights, desc(is.na(dep_time)))
```
2.
```{r}
arrange(flights, desc(arr_delay))
```
```{r}
arrange(flights, dep_time)
```
3.
```{r}
arrange(flights, desc(distance / (60 * hour + minute)))
```
4.
```{r}
arrange(flights, distance)
```


```{r}
arrange(flights, desc(distance))
```
# 5.4.1 Exercises

1.
```{r}
select(flights, dep_time, dep_delay, arr_time, arr_delay)
```
2.
```{r}
select(flights, dep_time, dep_time, arr_time)
```
The variable will be treated as if it has only been requested once.

3.
```{r}
vars <- c("year", "month", "day", "dep_delay", "arr_delay")
select(flights, one_of(vars))
```
4.
```{r}
select(flights, contains("TIME"))
```
By default the casing is simply ignored, which did not surprise me, since different variables might have different casing, which might make more sense to ignore by default. The second parameter of the function would allow to disable the default behaviour.

# 5.5.2

1.
```{r}
mutate(flights,
       minutes_since_midnight = dep_time / 100 * 60,
       sched_minutes_since_midnight = sched_dep_time / 100 * 60
)
```
2.
```{r}
select(mutate(flights, air_time, misc_time_in_air = arr_time - dep_time), air_time, misc_time_in_air) 
```
I expect to see broken numbers due to the reason that the deptime and arr_time are stored as ints and not as timestamps, meaning that if the length of the flight is exceeding an hour mark, the numbers will break due to the hour having 60 minutes and the variable accounting that with 100 for all hours completely passed.

3.
```{r}
select(flights, dep_time, sched_dep_time, dep_delay)
```
I would expect that the dep_delay increases / decreases when the dep_time differs from the scheduled dep_time but the issue once again is that the timestamps are given as int and not as timestamps, which could lead to calculation issues.

4.
```{r}
rankme <- mutate(flights, place = row_number(dep_delay))
rankme <- filter(rankme, place <= 10)
rankme <- arrange(rankme, place)
select(rankme, place, year, month, day, dep_delay, flight, carrier)
```
5.
```{r}
1:3 + 1:10
```
range functions

6.
cos(x), sin(x), tan(x), acos(x), asin(x), atan(x), atan2(y,x)